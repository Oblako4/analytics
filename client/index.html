<!DOCTYPE html>
<html>
<head>
    <title>Oblako Analytics</title>
</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<form>
  <input type="text" name="Enter number . . ." class="number">
  <button type="button" class="categories">Generate all categories</button>
  <button type="button" class="orders">Generate 100 orders</button>
  <button type="button" class="devices">Generate devices</button>
  <button type="button" class="fraud">Check for fraud</button>
</form>

<script>
  $(document).ready(function(){
    $('.categories').click(function(){
      $.ajax({
        method: 'GET',
        contentType: 'application/json',
        url: '/categories'
      });
    });
    $('.orders').click(function(){
      let number = $('.number').val();
      $.ajax({
        method: 'GET',
        contentType: 'application/json',
        url: '/orders'
      });
    });
    $('.devices').click(function(){
      $.ajax({
        method: 'GET',
        contentType: 'application/json',
        url: '/devices'
      });
    });
    $('.fraud').click(function(){

        (function myLoop (i) {          
           setTimeout(function () {   
             $.ajax({
                method: 'POST',
                contentType: 'application/json',
                url: '/fraud',
                data: JSON.stringify({
                  order: {
                    order_id: i
                  }
                }),
                success: data => console.log(data)
              });                       
              if (--i) myLoop(i);      //  decrement i and call myLoop again if i > 0
           }, 50)
        })(7000); 

    });
  });
</script>
</body>
</html>